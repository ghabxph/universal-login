<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>GhabXPH's - Universal Login - First Time Setup</title>

    <!-- Normalize.css -->
    <link rel="stylesheet" href="/assets?file=lib/css/normalize.min.css">

    <!-- Global page style -->
    <link rel="stylesheet" href="/assets?file=global.css">
</head>
<body class="setup">
<form method="POST">

    <!-- Page Title -->
    <h1 class="header">First time setup</h1>

    <!-- First page -->
    <!-- Page that collects "database" information (mongodb credentials) -->
    <div class="page">

        <!-- Header -->
        <h2 class="header">Database Information</h2>

        <!-- Caption -->
        <p class="caption">
            In order for this server to be functional, we need to
            fill in the database information required
        </p>

        <!-- Inputs -->
        <div class="inputs">
            <input type="text" name="UL_DB_HOST" placeholder="MongoDB Hostname"/>
    <input type="text" name="UL_DB_ROOT_USER" placeholder="MongoDB Username"/>
            <input type="password" name="UL_DB_ROOT_PASS" placeholder="MongoDB Password"/>
            <input type="text" name="UL_DB_NAME_PREFIX" placeholder="MongoDB Database Name Prefix (Optional)"/>
        </div>

        <!-- Next Button -->
        <div class="next-button">

            <!-- Submits the button, when user pressed it. -->
            <button class="right">Next &gt;&gt;</button>

            <!-- Just a clearfix -->
            <div class="clearfix"></div>

        </div>
    </div>

    <!-- Second page -->
    <!-- Page that collects third party auth server info -->
    <div class="page" hidden>

        <!-- Header -->
        <h2 class="header">Third Party Check</h2>

        <!-- Caption -->
        <p class="caption">
            Do you have third party authentication server to consult
            at? Specify it here
        </p>

        <!-- Inputs -->
        <div class="inputs">
            <div class="activator">
                <!-- Default checkbox value -->
                <input type="hidden" name="UL_TP_CHECK" value="false"/>

                <!-- Checkbox -->
                <label><input type="checkbox" name="UL_TP_CHECK" value="true"/> Activate third party login check?</label>
            </div>
            <div class="activator-toactivate">
                <!-- Form values, in case fields are disabled -->
                <input type="hidden" name="UL_TP_URL"/>
                <input type="hidden" name="UL_TP_REQUEST_FORMAT"/>

                <!-- Typeable fields -->
                <input type="text" name="UL_TP_URL" placeholder="API URL" disabled/>
                <textarea name="UL_TP_REQUEST_FORMAT" placeholder="Request format" disabled></textarea>
            </div>
        </div>

        <!-- Next Button (For submit) -->
        <div class="next-button">

            <!-- Submits the button, when user pressed it. -->
            <button class="right">Test and Submit &gt;&gt;</button>

            <!-- Just a clearfix -->
            <div class="clearfix"></div>
        </div>
    </div>

    <!-- Third page -->
    <!-- Performs test on given parameters, before saving the values to server's environment -->
    <div class="page" hidden>

        <!-- Header -->
        <h2 class="header">Testing connection</h2>

        <!-- Caption -->
        <p class="caption">
            Before we submit this form, we'll test the connections first...
        </p>

        <!-- Status items-->
        <ul class="status">
            <li class="pending">Testing MongoDB Connection</li>
            <li class="pending">Testing MongoDB Admin User (Credential Check)</li>
            <li class="pending">Testing MongoDB Admin Power</li>
            <li class="pending">Testing Third-Party Login Server (connectivity / test curl)</li>
        </ul>

        <div class="message success" hidden>
            <h3>Test successful</h3>
            <p>No issues! Form will now submit in <span>5</span> second<span>s</span>...</p>
        </div>
        <div class="message fail" hidden>
            <h3>Test failed</h3>
            <p>Please check the above issues. Form will not submit.</p>
        </div>
    </div>

</form>

<script src="/assets?file=lib/js/jquery-3.4.1.min.js"></script>
<script src="/assets?file=global.js"></script>
</body>
</html>